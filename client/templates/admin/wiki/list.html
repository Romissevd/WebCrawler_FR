{% extends "admin/layout.html" %}
{% block body %}
<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <h2>WIKIPEDIA</h2>
        </div>
        <!-- Exportable Table -->
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="card">
                    <div class="header">
                        <h2>
                            WIKI DEMO
                        </h2>
                    </div>
                    <div class="text">
                        Toggle column:
                        <a class="toggle-link-vis" data-column="0">Name</a>
                        - <a class="toggle-link-vis" data-column="1">Type</a>
                        - <a class="toggle-link-vis" data-column="2" data-hide>i18n</a>
                        - <a class="toggle-link-vis" data-column="3">Parents</a>
                        - <a class="toggle-link-vis" data-column="4">Capital</a>
                        - <a class="toggle-link-vis" data-column="5">Position</a>
                        - <a class="toggle-link-vis" data-column="6">Altitude</a>
                        - <a class="toggle-link-vis" data-column="7">Population</a>
                        - <a class="toggle-link-vis" data-column="8">Density</a>
                        - <a class="toggle-link-vis" data-column="9">Area</a>
                        - <a class="toggle-link-vis" data-column="10">Postal code</a>
                    </div>
                    <div class="body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped table-hover dataTable js-exportable">
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>i18n</th>
                                    <th>Parents</th>
                                    <th>Capital</th>
                                    <th>Position</th>
                                    <th>Altitude</th>
                                    <th>Population</th>
                                    <th>Density</th>
                                    <th>Area</th>
                                    <th>Postal code</th>
                                </tr>
                                </thead>
                                <tfoot>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>i18n</th>
                                    <th>Parents</th>
                                    <th>Capital</th>
                                    <th>Position</th>
                                    <th>Altitude</th>
                                    <th>Population</th>
                                    <th>Density</th>
                                    <th>Area</th>
                                    <th>Postal code</th>
                                </tr>
                                </tfoot>
                                <tbody>
                                {% for item in items %}
                                <tr>
                                    <td><a href="{{item.get('url')}}" target="_blank">{{ item.get('name') }}</a></td>
                                    <td>{{ item.get('type') }}</td>
                                    <td>
                                        {% for lang, i18n in item.get('i18n', {}).items(): %}
                                        <a href="{{i18n.url}}">{{ lang }}: {{ i18n.get('name') }}</a>
                                        {% endfor %}
                                    </td>
                                    <td>
                                        {% for admin in item.get('admin_hierarchy', {}) %}
                                        <a href="{{admin.url}}">{{ admin.get('name') }}({{ admin.get('type') }})</a>
                                        &gt;
                                        {% endfor %}
                                    </td>
                                    <td>
                                        <a href="{{ item.get('capital', {}).get('url') if item.get('capital') else 'javascript:void(0);' }}">
                                            {{ item.get('capital', {}).get('name') if item.get('capital') else '' }}
                                        </a>
                                    </td>
                                    <td>
                                        <a href="http://maps.google.com/maps?q={{item.get('center', {}).get('lat')}},{{item.get('center', {}).get('lng')}}&ll={{item.get('center', {}).get('lat')}},{{item.get('center', {}).get('lng')}}&z=12"
                                           target="_blank">
                                            {{item.get('center', {}).get('lat')}}, {{item.get('center', {}).get('lng')}}
                                        </a>
                                    </td>
                                    <td>{{item.get('altitude','')}}</td>
                                    <td>{{item.get('population', 0)}}</td>
                                    <td>{{item.get('density', 0)}}</td>
                                    <td>{{item.get('area', 0)}}</td>
                                    <td>{{item.get('postal_codes', '')}}</td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- #END# Exportable Table -->

    </div>
</section>
{% endblock %}